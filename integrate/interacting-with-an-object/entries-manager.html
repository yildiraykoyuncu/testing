<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset='utf-8'>
  <title>Entries Manager</title>

  <style>
    .centered {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
    }
  </style>

  <script id='script-variables'>
    const userEntries = {
      wood: 'oak',
      television: 'flat'
    };
  </script>

  <script id='handlers'>
    'use strict';

    const displayEntriesHandler = (message = '_', object = _) => {
      debugger;
      const starter = message + ':';
      let stringToDisplay = starter;
      for (const _ in userEntries) {
        const nextLine = ` ${_}: ${userEntries[_]}`;
        stringToDisplay += '\n' + nextLine;
      }
      alert(stringToDisplay);
    };

    const resetHandler = () => {
      debugger;
      userEntries = _;
      displayEntriesHandler();
    };

    const writeEntryHandler = () => {
      debugger;
      const key = prompt(_);
      if (_) { return; }

      const newValue = prompt(_);
      if (_) { return; }

      _[_] = _;

      displayEntriesHandler();
    };

    const deleteEntryHandler = () => {
      debugger;
      const userKey = prompt(_);
      if (userKey === null) { return; }

      let keyExists = false;
      for (const _ in _) {
        if (_ === _) {
          keyExists = true;
          break;
        }
      }

      if (keyExists) {
        delete userEntries[_];
        _();
      } else {
        alert(_);
      }
    };

    const findKeyHandler = () => {
      debugger;
      const userKey = prompt(_);
      if (userKey === null) { return; }

      let keyExists = false;
      for (const _ in _) {
        if (_ === _) {
          keyExists = true;
          break;
        }
      }

      if (_) {
        const foundEntry = _;
        alert(foundEntry);
      } else {
        alert(_);
      }
    };

    const searchValuesHandler = () => {
      debugger;
      const query = prompt(_);
      if (query === null) { return; }

      let searchResults = {};
      for (const _ in _) {
        const value = _[key];
        const matchesQuery = _; // does the string value include the query?
        if (matchesQuery) {
          _ = value;
        }
      }

      displayEntriesHandler(_, _);
    };
  </script>
</head>

<body>

  <main id='user interface' class='centered'>
    <button onclick="writeEntryHandler()">write an entry</button> <br>
    <button onclick="deleteEntryHandler()">delete an entry</button> <br>
    <button onclick="searchValuesHandler()">search in values</button> <br>
    <button onclick="findKeyHandler()">find by key</button> <br>
    <br>
    <button onclick="displayEntriesHandler()">display all userEntries</button> <br>
    <button onclick="resetHandler()">reset entries</button>
  </main>

</body>

</html>
